<!-- 第7章 正規表現 -->
<!-- 7.4 マッチした部分をキャプチャする -->
<!-- 7.4.1 単純なキャプチャを実行する -->
<!-- chapter07：リスト7-4 文字列に埋め込まれた値をキャプチャする単純な関数 -->

<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<script src="../scripts/assert.js" type="text/javascript"></script>
	<link href="../styles/assert.css" type="text/css" rel="stylesheet">

</head>
<body>

	<div id="opacity" style="opacity:0.5;filter:alpha(opacity=50)"></div>

	<script>

		function getOpacity (elem) {
			var filter = elem.style.filter;
			return filter ? 
				filter.indexOf("opacity=") >= 0 ?
					(parseFloat(filter.match(/opacity=([^)]+)/)[1]) / 100) + "" : 
					""
				:
				elem.style.opacity;

		}

		window.onload = function () {
			assert(getOpacity(document.getElementById("opacity")) === "0.5", "要素の不透明度を取得")
		}

	</script>
	
</body>
</html>

