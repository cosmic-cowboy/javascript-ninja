<!-- chapter05：リスト5-18 即時関数を使って反復子のプロパティを扱う -->
<!-- ループとクロージャの不愉快な問題を解決する -->

<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<script src="../scripts/assert.js" type="text/javascript"></script>
	<link href="../styles/assert.css" type="text/css" rel="stylesheet">

</head>
<body>
	<div>DIV 0</div>
	<div>DIV 1</div>

	<script>
		var divs = document.getElementsByTagName("div");

		for (var i = 0; i < divs.length; i++) {
			divs[i].addEventListener("click", (function () {
				var number = i;
				return function(){
					alert("DIVの" + number + "番がクリックされました");
				}
			})(), false);
		};		

	</script>
	
</body>
</html>