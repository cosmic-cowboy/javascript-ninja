<!-- 第10章 with文 -->
<!-- 10.1 with文の効用 -->
<!-- 10.1.2 withスコープ内での代入 -->
<!-- chapter10：リスト10-2 withスコープ内での代入 -->

<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<script src="../scripts/assert.js" type="text/javascript"></script>
	<link href="../styles/assert.css" type="text/css" rel="stylesheet">

</head>
<body>

	<script type="text/javascript">

		var katana = {
			isSharp : true,
			use : function () {
				this.isSharp = !this.isSharp;
			}
		}

		with(katana){
			isSharp = false;

			assert(katana.isSharp === false, "プロパティに代入できる");

			// katana.cutでやればkatanaに入る
			cut = function () {
				isSharp = false;
			}

			assert(this !== katana, "コンテキストは変更されず、元の値を保持");
		}

		assert(typeof katana.cut === "function", "スコープのオブジェクトに新しいプロパティを作成できる");

		assert(typeof window.cut === "function", "新しいプロパティはグローバルスコープに作成されている");

	</script>

</body>
</html>
