<!-- 第10章 with文 -->
<!-- 10.5 withによるテンプレーティング -->
<!-- chapter10：リスト10-4 HTMLページを生成するテンプレートの例 -->

<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<script src="../scripts/assert.js" type="text/javascript"></script>
	<link href="../styles/assert.css" type="text/css" rel="stylesheet">
  <script type="text/javascript" src="tmpl.js"></script>

    <script type="text/tmpl" id="colors">
      <p>以下は、 <%= items.length %> 個のアイテムのリストです:</p>
      <ul>
        <% for (var i=0; i < items.length; i++) { %>
          <li style='color:<%= colors[i % colors.length] %>'>
            <%= items[i] %>
          </li>
        <% } %>
      </ul>
      そして、もうひとつ...
    </script>


    <script type="text/tmpl" id="colors2">
      <p>以下は、 <%= items.length %> 個のアイテムのリストです:</p>
      <ul>
        <% for (var i=0; i < items.length; i++) {
          print(
            "<li style='color:", colors[i % colors.length], 
            "'>",
            items[i], "</li>");
        } %>
      </ul>
    </script>

    
    <script>
      var colorsArray = ['red', 'green', 'blue', 'orange'];

      var items = [];
      for ( var i = 0; i < 10; i++ )
        items.push( "test" );

      function replaceContent(name) {
        document.getElementById('content').innerHTML =
            tmpl(name, {colors: colorsArray, items: items});
      }
    </script>

</head>
<body>


    <input type="button" value="Run Colors"
           onclick="replaceContent('colors')">
    <input type="button" value="Run Colors2"
           onclick="replaceContent('colors2')">
    <p id="content">ここに置換されたコンテンツが入ります</p>


</body>
</html>
