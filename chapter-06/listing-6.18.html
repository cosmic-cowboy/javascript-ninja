<!-- 第6章 プロトタイプによるオブジェクト指向 -->
<!-- 6.2   落とし穴に注意 -->
<!-- 6.2.4 実体化の問題 -->
<!-- chapter06：リスト6-18 コンストラクタとして呼び出されたかどうかを判定する -->

<!doctype html>

<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<script src="../scripts/assert.js" type="text/javascript"></script>
	<link href="../styles/assert.css" type="text/css" rel="stylesheet">

</head>
<body>

	<script>
		// arguments.calleeでは現在実行中の関数を参照できる（インスタンスの場合はTest）
		// 関数の呼び出しコンテキストはグローバルスコープか、Test()
		// 構築されたオブジェクトにinstanceof演算子を使うとそのコンストラクタのテストを行うことができる
		function Test () {
			return this instanceof arguments.callee;
		}

		assert(!Test(), "実体化していないからfalseを返す");
		assert(new Test(), "実体化したのでtrueを返す");

	</script>
	
</body>
</html>

